<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Context Pilot â€” AI-Native Terminal IDE</title>
    <meta name="description" content="Context Pilot is an AI-native terminal IDE that gives you full control over what your AI sees. Built with Rust and ratatui for blazing-fast performance.">
    <link rel="canonical" href="https://bigmoostache.github.io/context-pilot/">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Context Pilot â€” AI-Native Terminal IDE">
    <meta property="og:description" content="You control what your AI sees. Terminal-native AI coding built in Rust.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bigmoostache.github.io/context-pilot/">
    <meta property="og:site_name" content="Context Pilot">
    <meta property="og:image" content="https://bigmoostache.github.io/context-pilot/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Context Pilot - AI-Native Terminal IDE with visible context management">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Context Pilot â€” AI-Native Terminal IDE">
    <meta name="twitter:description" content="You control what your AI sees. Terminal-native AI coding built in Rust.">
    <meta name="twitter:image" content="https://bigmoostache.github.io/context-pilot/og-image.png">
    <meta name="twitter:image:alt" content="Context Pilot - AI-Native Terminal IDE">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="author" content="Context Pilot">
    <meta name="keywords" content="AI coding, terminal IDE, Rust, ratatui, AI assistant, context management, TUI, developer tools">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="color-scheme" content="dark light">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Context Pilot",
      "description": "AI-native terminal IDE that gives you full control over what your AI sees",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Linux, macOS",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "Context Pilot",
        "url": "https://github.com/bigmoostache/context-pilot"
      }
    }
    </script>
    
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <a href="/" class="logo">
                <span class="logo-icon">âˆ</span>
                <span class="logo-text">Context Pilot</span>
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" onclick="this.classList.toggle('active'); this.setAttribute('aria-expanded', this.classList.contains('active')); document.querySelector('.nav-links').classList.toggle('nav-open')">
                <span></span><span></span><span></span>
            </button>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#architecture">Architecture</a>
                <a href="#comparison">Comparison</a>
                <a href="#modules">Modules</a>
                <a href="docs/index.html">Docs</a>
                <a href="#getting-started">Get Started</a>
                <button class="theme-toggle" aria-label="Toggle light/dark mode" title="Toggle theme">
                    <svg class="theme-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="theme-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <a href="https://github.com/bigmoostache/context-pilot" class="nav-github">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
                    GitHub
                </a>
            </div>
        </nav>
    </header>

    <!-- Hero -->
    <section id="main-content" class="hero">
        <div class="container">
            <div class="hero-badge">AI-Native Terminal IDE</div>
            <h1 class="hero-title">
                You control what<br>
                <span class="gradient-text">your AI sees.</span>
            </h1>
            <p class="hero-subtitle">
                Context Pilot is a terminal-native AI coding environment built in Rust. 
                Unlike other tools, <strong>you</strong> decide exactly what context your AI receives â€” 
                files, git diffs, todos, memories, and more â€” all through an elegant TUI.
            </p>
            <div class="hero-actions">
                <a href="#getting-started" class="btn btn-primary">Get Started</a>
                <a href="https://github.com/bigmoostache/context-pilot" class="btn btn-secondary">View on GitHub</a>
            </div>
            <div class="hero-terminal">
                <div class="terminal-bar">
                    <span class="terminal-dot red"></span>
                    <span class="terminal-dot yellow"></span>
                    <span class="terminal-dot green"></span>
                    <span class="terminal-title">context-pilot</span>
                </div>
                <div class="terminal-body">
                    <pre class="terminal-content" id="terminal-anim"></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture -->
    <section id="architecture" class="architecture">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <p class="section-subtitle">Everything flows through context panels â€” structured blocks of information your AI can see.</p>

            <div class="arch-diagram">
                <div class="arch-col arch-col-left">
                    <div class="arch-box arch-you">
                        <div class="arch-label">You</div>
                        <div class="arch-desc">Open files, run commands, create todos, tweak filters</div>
                    </div>
                    <div class="arch-arrow">â†“</div>
                    <div class="arch-box arch-panels">
                        <div class="arch-label">Context Panels</div>
                        <div class="arch-panel-list">
                            <span class="arch-pill">P1 Chat</span>
                            <span class="arch-pill">P2 Tree</span>
                            <span class="arch-pill">P3 Todos</span>
                            <span class="arch-pill">P4 Memories</span>
                            <span class="arch-pill">P6 Git</span>
                            <span class="arch-pill arch-pill-dynamic">P7 file.rs</span>
                            <span class="arch-pill arch-pill-dynamic">P8 grep</span>
                            <span class="arch-pill arch-pill-dynamic">P9 console</span>
                        </div>
                        <div class="arch-desc">Each panel has a token count. You control what stays.</div>
                    </div>
                    <div class="arch-arrow">â†“</div>
                    <div class="arch-box arch-llm">
                        <div class="arch-label">LLM API</div>
                        <div class="arch-desc">All visible panels sent as structured context. Nothing hidden.</div>
                    </div>
                </div>
                <div class="arch-col arch-col-right">
                    <div class="arch-box arch-modules">
                        <div class="arch-label">Modules</div>
                        <div class="arch-module-list">
                            <div class="arch-mod"><span>ğŸ“</span> Files</div>
                            <div class="arch-mod"><span>ğŸŒ³</span> Tree</div>
                            <div class="arch-mod"><span>ğŸ”€</span> Git</div>
                            <div class="arch-mod"><span>ğŸ–¥ï¸</span> Console</div>
                            <div class="arch-mod"><span>âœ…</span> Todo</div>
                            <div class="arch-mod"><span>ğŸ§ </span> Memory</div>
                            <div class="arch-mod"><span>ğŸ¦´</span> Spine</div>
                        </div>
                        <div class="arch-desc">Each module adds tools + panels. Activate only what you need.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Why Context Pilot?</h2>
            <p class="section-subtitle">Every token matters. Context Pilot gives you surgical control over your AI's context window.</p>
            
            <div class="feature-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ¯</div>
                    <h3>Context Control</h3>
                    <p>Open files, git diffs, grep results, and more as context panels. See exactly what your AI sees â€” token counts and all. Close what you don't need.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">âš¡</div>
                    <h3>Blazing Fast</h3>
                    <p>Built in Rust with ratatui. Sub-millisecond rendering. Instant file operations. No Electron, no web browser, no bloat â€” just raw terminal performance.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ”Œ</div>
                    <h3>Modular Architecture</h3>
                    <p>Activate only the modules you need. Git, GitHub, files, tree, console, todos, memory, scratchpad â€” each module adds its own tools and panels.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ¤–</div>
                    <h3>Multi-Provider</h3>
                    <p>Works with Anthropic Claude, OpenAI, DeepSeek, Grok, Groq, and any OpenAI-compatible API. Switch providers mid-conversation.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ§ </div>
                    <h3>Persistent Memory</h3>
                    <p>Memories and todos persist across conversations. The AI remembers your preferences, project conventions, and ongoing tasks.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ”„</div>
                    <h3>Auto-Continuation</h3>
                    <p>The Spine module handles stream control with configurable guard rails â€” max tokens, cost limits, and automatic continuation for long tasks.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Modules -->
    <section id="modules" class="modules">
        <div class="container">
            <h2 class="section-title">Modular by Design</h2>
            <p class="section-subtitle">Activate what you need. Deactivate what you don't. Each module is independent.</p>
            
            <div class="module-grid">
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ“</span>
                        <h3>Files</h3>
                    </div>
                    <p>Open, edit, and write files. Full file context with syntax awareness. Precise edits with search-and-replace.</p>
                    <div class="module-tools">
                        <code>file_open</code> <code>file_edit</code> <code>file_write</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸŒ³</span>
                        <h3>Tree</h3>
                    </div>
                    <p>Directory tree with gitignore-style filtering. Annotate files with descriptions. Open and close folders.</p>
                    <div class="module-tools">
                        <code>tree_filter</code> <code>tree_toggle</code> <code>tree_describe</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ”€</span>
                        <h3>Git</h3>
                    </div>
                    <p>Full git integration. Status, diffs, log, blame â€” all as live-updating context panels.</p>
                    <div class="module-tools">
                        <code>git_execute</code> <code>git_configure_p6</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ™</span>
                        <h3>GitHub</h3>
                    </div>
                    <p>GitHub CLI integration. View PRs, issues, create releases â€” all without leaving the terminal.</p>
                    <div class="module-tools">
                        <code>gh_execute</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ–¥ï¸</span>
                        <h3>Console (tmux)</h3>
                    </div>
                    <p>Monitor terminal output in real-time. Run builds, tests, servers â€” the AI sees what you see.</p>
                    <div class="module-tools">
                        <code>console_create</code> <code>console_send_keys</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">âœ…</span>
                        <h3>Todo</h3>
                    </div>
                    <p>Task tracking with nested todos. Plan work, track progress, and let the AI work through tasks autonomously.</p>
                    <div class="module-tools">
                        <code>todo_create</code> <code>todo_update</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ§ </span>
                        <h3>Memory</h3>
                    </div>
                    <p>Persistent memories across conversations. Store preferences, conventions, and important context.</p>
                    <div class="module-tools">
                        <code>memory_create</code> <code>memory_update</code>
                    </div>
                </div>
                <div class="module-card fade-in">
                    <div class="module-header">
                        <span class="module-icon">ğŸ¦´</span>
                        <h3>Spine</h3>
                    </div>
                    <p>Central nervous system. Manages notifications, auto-continuation, and guard rails for autonomous operation.</p>
                    <div class="module-tools">
                        <code>spine_configure</code> <code>notification_mark_processed</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison -->
    <section id="comparison" class="comparison">
        <div class="container">
            <h2 class="section-title">How It Compares</h2>
            <p class="section-subtitle">Context Pilot takes a fundamentally different approach to AI coding.</p>

            <div class="comparison-table-wrap">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th class="comp-highlight">Context Pilot</th>
                            <th>Cursor</th>
                            <th>Claude Code</th>
                            <th>GitHub Copilot</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="comp-feature">Context control</td>
                            <td class="comp-highlight">You choose every panel</td>
                            <td>Automatic</td>
                            <td>Automatic</td>
                            <td>Automatic</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">See what AI sees</td>
                            <td class="comp-highlight">âœ“ Token-level</td>
                            <td>Partial</td>
                            <td>âœ—</td>
                            <td>âœ—</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Terminal-native</td>
                            <td class="comp-highlight">âœ“ TUI (ratatui)</td>
                            <td>âœ— Electron</td>
                            <td>âœ“ CLI</td>
                            <td>âœ— VS Code</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Multi-provider</td>
                            <td class="comp-highlight">âœ“ 5+ providers</td>
                            <td>âœ“</td>
                            <td>âœ— Claude only</td>
                            <td>âœ— GPT only</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Persistent memory</td>
                            <td class="comp-highlight">âœ“ Cross-session</td>
                            <td>Partial</td>
                            <td>âœ—</td>
                            <td>âœ—</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Modular tools</td>
                            <td class="comp-highlight">âœ“ Enable/disable</td>
                            <td>âœ— Fixed</td>
                            <td>âœ— Fixed</td>
                            <td>âœ— Fixed</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Open source</td>
                            <td class="comp-highlight">âœ“ GPL-3.0</td>
                            <td>âœ—</td>
                            <td>âœ—</td>
                            <td>âœ—</td>
                        </tr>
                        <tr>
                            <td class="comp-feature">Cost</td>
                            <td class="comp-highlight">Free (bring API key)</td>
                            <td>$20/mo+</td>
                            <td>$20/mo+</td>
                            <td>$10/mo+</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Agents & Presets -->
    <section class="presets">
        <div class="container">
            <h2 class="section-title">Agents & Presets</h2>
            <p class="section-subtitle">Switch AI personalities and tool configurations instantly.</p>
            
            <div class="preset-grid">
                <div class="preset-card fade-in">
                    <div class="preset-name">ğŸ—ï¸ Worker</div>
                    <p>Focused implementation mode. File editing, git, and console. No exploration overhead.</p>
                </div>
                <div class="preset-card fade-in">
                    <div class="preset-name">ğŸ“‹ Planner</div>
                    <p>Task planning with todos and scratchpad. File writes disabled to prevent accidental changes.</p>
                </div>
                <div class="preset-card fade-in">
                    <div class="preset-name">ğŸ” Context Builder</div>
                    <p>All modules active for codebase exploration. Full read access, clean slate.</p>
                </div>
                <div class="preset-card fade-in">
                    <div class="preset-name">ğŸ§¹ Context Cleaner</div>
                    <p>Minimal read-only mode. Clean up context, close panels, manage message history.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Keyboard Shortcuts -->
    <section id="shortcuts" class="shortcuts">
        <div class="container">
            <h2 class="section-title">Keyboard-First</h2>
            <p class="section-subtitle">Everything is a keystroke away. No menus, no clicking.</p>

            <div class="shortcut-grid">
                <div class="shortcut-group">
                    <h3>Navigation</h3>
                    <div class="shortcut-row"><kbd>Ctrl+P</kbd> <span>Command palette</span></div>
                    <div class="shortcut-row"><kbd>Ctrl+N</kbd> <span>Next context panel</span></div>
                    <div class="shortcut-row"><kbd>â†‘ â†“</kbd> <span>Scroll active panel</span></div>
                    <div class="shortcut-row"><kbd>PgUp/PgDn</kbd> <span>Fast scroll</span></div>
                </div>
                <div class="shortcut-group">
                    <h3>Chat</h3>
                    <div class="shortcut-row"><kbd>Enter</kbd> <span>Send message</span></div>
                    <div class="shortcut-row"><kbd>Shift+Enter</kbd> <span>New line</span></div>
                    <div class="shortcut-row"><kbd>Ctrl+L</kbd> <span>Clear conversation</span></div>
                    <div class="shortcut-row"><kbd>Esc</kbd> <span>Stop streaming</span></div>
                </div>
                <div class="shortcut-group">
                    <h3>Context</h3>
                    <div class="shortcut-row"><kbd>p1</kbd>â€“<kbd>p99</kbd> <span>Jump to panel</span></div>
                    <div class="shortcut-row"><kbd>/cmd</kbd> <span>Run command</span></div>
                    <div class="shortcut-row"><kbd>Ctrl+Q</kbd> <span>Quit</span></div>
                    <div class="shortcut-row"><kbd>F12</kbd> <span>Performance overlay</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Getting Started -->
    <section id="getting-started" class="getting-started">
        <div class="container">
            <h2 class="section-title">Getting Started</h2>
            <p class="section-subtitle">Up and running in minutes.</p>
            
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Clone & Build</h3>
                        <div class="code-block">
                            <pre><code>git clone https://github.com/bigmoostache/context-pilot.git
cd context-pilot
cargo build --release</code></pre>
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Configure API Key</h3>
                        <div class="code-block">
                            <pre><code># Create .env in your project directory
echo 'ANTHROPIC_API_KEY=sk-ant-...' > .env

# Or export directly
export ANTHROPIC_API_KEY=sk-ant-...</code></pre>
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Launch</h3>
                        <div class="code-block">
                            <pre><code># Navigate to any project directory
cd your-project

# Launch Context Pilot (requires tmux)
tmux new-session context-pilot</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="requirements">
                <h3>Requirements</h3>
                <ul>
                    <li>Rust toolchain (for building from source)</li>
                    <li>tmux (for console integration)</li>
                    <li>An API key from a supported provider (Anthropic, OpenAI, etc.)</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">âˆ</span>
                    <span class="logo-text">Context Pilot</span>
                    <p class="footer-tagline">AI-native terminal IDE. You control the context.</p>
                </div>
                <div class="footer-links">
                    <a href="https://github.com/bigmoostache/context-pilot">GitHub</a>
                    <a href="https://github.com/bigmoostache/context-pilot/issues">Issues</a>
                    <a href="https://github.com/bigmoostache/context-pilot/blob/master/CONTRIBUTING.md">Contributing</a>
                    <a href="https://github.com/bigmoostache/context-pilot/blob/master/LICENSE">License (GPL-3.0)</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Built with ğŸ¦€ Rust + ratatui. Open source forever.</p>
            </div>
        </div>
    </footer>
    <!-- Copy Buttons -->
    <script>
    (function() {
        document.querySelectorAll('.code-block').forEach(block => {
            const btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.textContent = 'Copy';
            btn.addEventListener('click', () => {
                const code = block.querySelector('code').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    btn.textContent = 'Copied!';
                    btn.classList.add('copied');
                    setTimeout(() => {
                        btn.textContent = 'Copy';
                        btn.classList.remove('copied');
                    }, 2000);
                });
            });
            block.style.position = 'relative';
            block.appendChild(btn);
        });
    })();
    </script>

    <!-- Scroll Animations -->
    <script>
    (function() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    observer.unobserve(e.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    })();
    </script>

    <!-- Terminal Animation -->
    <script>
    (function() {
        const el = document.getElementById('terminal-anim');
        if (!el) return;

        const C = (cls, text) => `<span class="${cls}">${text}</span>`;
        const dim = t => C('t-dim', t);
        const cyan = t => C('t-cyan', t);
        const green = t => C('t-green', t);
        const yellow = t => C('t-yellow', t);

        // Scene 1: Panel list appears line by line
        const panels = [
            dim('â”Œâ”€ Context Panels â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”'),
            `${cyan('P1')} ${green('Chat')}         ${dim('â”‚')} 250 tokens   ${dim('â”‚')} Conversation`,
            `${cyan('P2')} ${green('Tree')}         ${dim('â”‚')} 1,884 tokens ${dim('â”‚')} Directory structure`,
            `${cyan('P3')} ${green('Todos')}        ${dim('â”‚')} 316 tokens   ${dim('â”‚')} Task tracking`,
            `${cyan('P4')} ${green('Memories')}     ${dim('â”‚')} 279 tokens   ${dim('â”‚')} Persistent notes`,
            `${cyan('P5')} ${green('Overview')}     ${dim('â”‚')} 1,104 tokens ${dim('â”‚')} Context usage`,
            `${cyan('P6')} ${green('Git')}          ${dim('â”‚')} 11 tokens    ${dim('â”‚')} Status &amp; diffs`,
            dim('â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜'),
            dim('  Context: 5,092 / 200,000 tokens (2.5%)'),
        ];

        // Scene 2: User types a message
        const userMsg = 'refactor the auth module to use async traits';

        // Scene 3: AI response streams
        const aiLines = [
            `${dim('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€')}`,
            `${green('âš™')} Opening ${cyan('src/auth/mod.rs')}...`,
            `${green('âš™')} Opening ${cyan('src/auth/provider.rs')}...`,
            `${green('âœ“')} Replaced ${yellow('3')} sync trait methods with async fn`,
            `${green('âœ“')} Updated ${yellow('12')} call sites across ${yellow('4')} files`,
            `${green('âœ“')} All tests passing`,
        ];

        let lines = [];
        let phase = 0;
        let idx = 0;
        let charIdx = 0;
        let typingLine = '';

        function render() {
            let out = lines.join('\n');
            if (typingLine) {
                out += (lines.length ? '\n' : '') + typingLine;
            }
            // Always show cursor
            out += (lines.length || typingLine ? '\n' : '') + `${yellow('â¯')} ${C('t-blink', 'â–ˆ')}`;
            el.innerHTML = out;
        }

        function tick() {
            if (phase === 0) {
                // Phase 0: panels appear one by one
                if (idx < panels.length) {
                    lines.push(panels[idx]);
                    idx++;
                    render();
                    setTimeout(tick, 80);
                } else {
                    phase = 1;
                    idx = 0;
                    charIdx = 0;
                    render();
                    setTimeout(tick, 600);
                }
            } else if (phase === 1) {
                // Phase 1: user types message
                if (charIdx < userMsg.length) {
                    charIdx++;
                    // Replace cursor line with typing
                    const typed = userMsg.slice(0, charIdx);
                    el.innerHTML = lines.join('\n') + '\n' + `${yellow('â¯')} ${typed}${C('t-blink', 'â–ˆ')}`;
                    setTimeout(tick, 35 + Math.random() * 40);
                } else {
                    // "Submit" â€” add the user line to lines
                    lines.push(`${yellow('â¯')} ${userMsg}`);
                    phase = 2;
                    idx = 0;
                    render();
                    setTimeout(tick, 400);
                }
            } else if (phase === 2) {
                // Phase 2: AI response streams in
                if (idx < aiLines.length) {
                    lines.push(aiLines[idx]);
                    idx++;
                    render();
                    setTimeout(tick, 300 + Math.random() * 200);
                } else {
                    // Done â€” pause then restart
                    setTimeout(() => {
                        lines = [];
                        phase = 0;
                        idx = 0;
                        charIdx = 0;
                        typingLine = '';
                        render();
                        setTimeout(tick, 500);
                    }, 4000);
                }
            }
        }

        // Start after a small delay
        setTimeout(tick, 800);
        render();
    })();
    </script>

    <!-- Theme Toggle Script -->
    <script>
    (function() {
        const themeToggle = document.querySelector('.theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to system preference
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const currentTheme = savedTheme || (prefersDark ? 'dark' : 'light');
        
        // Apply the theme
        html.setAttribute('data-theme', currentTheme);
        
        // Toggle theme
        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
        
        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                html.setAttribute('data-theme', e.matches ? 'dark' : 'light');
            }
        });
    })();
    </script>
</body>
</html>
